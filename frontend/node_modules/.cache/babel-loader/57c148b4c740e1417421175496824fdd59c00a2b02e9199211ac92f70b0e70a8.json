{"ast":null,"code":"var hpack = require('../hpack');\nvar utils = hpack.utils;\nvar assert = utils.assert;\nfunction Table(options) {\n  this['static'] = hpack['static-table'];\n  this.dynamic = [];\n  this.size = 0;\n  this.maxSize = 0;\n  this.length = this['static'].table.length;\n  this.protocolMaxSize = options.maxSize;\n  this.maxSize = this.protocolMaxSize;\n  this.lookupDepth = options.lookupDepth || 32;\n}\nmodule.exports = Table;\nTable.create = function create(options) {\n  return new Table(options);\n};\nTable.prototype.lookup = function lookup(index) {\n  assert(index !== 0, 'Zero indexed field');\n  assert(index <= this.length, 'Indexed field OOB');\n  if (index <= this['static'].table.length) return this['static'].table[index - 1];else return this.dynamic[this.length - index];\n};\nTable.prototype.reverseLookup = function reverseLookup(name, value) {\n  var staticEntry = this['static'].map[name];\n  if (staticEntry && staticEntry.values[value]) return staticEntry.values[value];\n\n  // Reverse search dynamic table (new items are at the end of it)\n  var limit = Math.max(0, this.dynamic.length - this.lookupDepth);\n  for (var i = this.dynamic.length - 1; i >= limit; i--) {\n    var entry = this.dynamic[i];\n    if (entry.name === name && entry.value === value) return this.length - i;\n    if (entry.name === name) {\n      // Prefer smaller index\n      if (staticEntry) break;\n      return -(this.length - i);\n    }\n  }\n  if (staticEntry) return -staticEntry.index;\n  return 0;\n};\nTable.prototype.add = function add(name, value, nameSize, valueSize) {\n  var totalSize = nameSize + valueSize + 32;\n  this.dynamic.push({\n    name: name,\n    value: value,\n    nameSize: nameSize,\n    totalSize: totalSize\n  });\n  this.size += totalSize;\n  this.length++;\n  this.evict();\n};\nTable.prototype.evict = function evict() {\n  while (this.size > this.maxSize) {\n    var entry = this.dynamic.shift();\n    this.size -= entry.totalSize;\n    this.length--;\n  }\n  assert(this.size >= 0, 'Table size sanity check failed');\n};\nTable.prototype.updateSize = function updateSize(size) {\n  assert(size <= this.protocolMaxSize, 'Table size bigger than maximum');\n  this.maxSize = size;\n  this.evict();\n};","map":{"version":3,"names":["hpack","require","utils","assert","Table","options","dynamic","size","maxSize","length","table","protocolMaxSize","lookupDepth","module","exports","create","prototype","lookup","index","reverseLookup","name","value","staticEntry","map","values","limit","Math","max","i","entry","add","nameSize","valueSize","totalSize","push","evict","shift","updateSize"],"sources":["/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/notes_github/frontend/node_modules/hpack.js/lib/hpack/table.js"],"sourcesContent":["var hpack = require('../hpack');\nvar utils = hpack.utils;\nvar assert = utils.assert;\n\nfunction Table(options) {\n  this['static'] = hpack['static-table'];\n  this.dynamic = [];\n  this.size = 0;\n  this.maxSize = 0;\n  this.length = this['static'].table.length;\n  this.protocolMaxSize = options.maxSize;\n  this.maxSize = this.protocolMaxSize;\n  this.lookupDepth = options.lookupDepth || 32;\n}\nmodule.exports = Table;\n\nTable.create = function create(options) {\n  return new Table(options);\n};\n\nTable.prototype.lookup = function lookup(index) {\n  assert(index !== 0, 'Zero indexed field');\n  assert(index <= this.length, 'Indexed field OOB')\n\n  if (index <= this['static'].table.length)\n    return this['static'].table[index - 1];\n  else\n    return this.dynamic[this.length - index];\n};\n\nTable.prototype.reverseLookup = function reverseLookup(name, value) {\n  var staticEntry = this['static'].map[name];\n  if (staticEntry && staticEntry.values[value])\n    return staticEntry.values[value];\n\n  // Reverse search dynamic table (new items are at the end of it)\n  var limit = Math.max(0, this.dynamic.length - this.lookupDepth);\n  for (var i = this.dynamic.length - 1; i >= limit; i--) {\n    var entry = this.dynamic[i];\n    if (entry.name === name && entry.value === value)\n      return this.length - i;\n\n    if (entry.name === name) {\n      // Prefer smaller index\n      if (staticEntry)\n        break;\n      return -(this.length - i);\n    }\n  }\n\n  if (staticEntry)\n    return -staticEntry.index;\n\n  return 0;\n};\n\nTable.prototype.add = function add(name, value, nameSize, valueSize) {\n  var totalSize = nameSize + valueSize + 32;\n\n  this.dynamic.push({\n    name: name,\n    value: value,\n    nameSize: nameSize,\n    totalSize: totalSize\n  });\n  this.size += totalSize;\n  this.length++;\n\n  this.evict();\n};\n\nTable.prototype.evict = function evict() {\n  while (this.size > this.maxSize) {\n    var entry = this.dynamic.shift();\n    this.size -= entry.totalSize;\n    this.length--;\n  }\n  assert(this.size >= 0, 'Table size sanity check failed');\n};\n\nTable.prototype.updateSize = function updateSize(size) {\n  assert(size <= this.protocolMaxSize, 'Table size bigger than maximum');\n  this.maxSize = size;\n  this.evict();\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}