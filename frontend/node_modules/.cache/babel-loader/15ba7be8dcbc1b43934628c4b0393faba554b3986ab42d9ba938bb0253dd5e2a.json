{"ast":null,"code":"'use strict';\n\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\nfunction Hose(socket, options, filter) {\n  EventEmitter.call(this);\n  if (typeof options === 'function') {\n    filter = options;\n    options = {};\n  }\n  this.socket = socket;\n  this.options = options;\n  this.filter = filter;\n  this.buffer = null;\n  var self = this;\n  this.listeners = {\n    error: function (err) {\n      return self.onError(err);\n    },\n    data: function (chunk) {\n      return self.onData(chunk);\n    },\n    end: function () {\n      return self.onEnd();\n    }\n  };\n  this.socket.on('error', this.listeners.error);\n  this.socket.on('data', this.listeners.data);\n  this.socket.on('end', this.listeners.end);\n}\nutil.inherits(Hose, EventEmitter);\nmodule.exports = Hose;\nHose.create = function create(socket, options, filter) {\n  return new Hose(socket, options, filter);\n};\nHose.prototype.detach = function detach() {\n  // Stop the flow\n  this.socket.pause();\n  this.socket.removeListener('error', this.listeners.error);\n  this.socket.removeListener('data', this.listeners.data);\n  this.socket.removeListener('end', this.listeners.end);\n};\nHose.prototype.reemit = function reemit() {\n  var buffer = this.buffer;\n  this.buffer = null;\n\n  // Modern age\n  if (this.socket.unshift) {\n    this.socket.unshift(buffer);\n    if (this.socket.listeners('data').length > 0) this.socket.resume();\n    return;\n  }\n\n  // Rusty node v0.8\n  if (this.socket.ondata) this.socket.ondata(buffer, 0, buffer.length);\n  this.socket.emit('data', buffer);\n  this.socket.resume();\n};\nHose.prototype.onError = function onError(err) {\n  this.detach();\n  this.emit('error', err);\n};\nHose.prototype.onData = function onData(chunk) {\n  if (this.buffer) this.buffer = Buffer.concat([this.buffer, chunk]);else this.buffer = chunk;\n  var self = this;\n  this.filter(this.buffer, function (err, protocol) {\n    if (err) return self.onError(err);\n\n    // No protocol selected yet\n    if (!protocol) return;\n    self.detach();\n    self.emit('select', protocol, self.socket);\n    self.reemit();\n  });\n};\nHose.prototype.onEnd = function onEnd() {\n  this.detach();\n  this.emit('error', new Error('Not enough data to recognize protocol'));\n};","map":{"version":3,"names":["util","require","EventEmitter","Hose","socket","options","filter","call","buffer","self","listeners","error","err","onError","data","chunk","onData","end","onEnd","on","inherits","module","exports","create","prototype","detach","pause","removeListener","reemit","unshift","length","resume","ondata","emit","Buffer","concat","protocol","Error"],"sources":["/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/notes_github/frontend/node_modules/select-hose/lib/hose.js"],"sourcesContent":["'use strict';\n\nvar util = require('util');\nvar EventEmitter = require('events').EventEmitter;\n\nfunction Hose(socket, options, filter) {\n  EventEmitter.call(this);\n\n  if (typeof options === 'function') {\n    filter = options;\n    options = {};\n  }\n\n  this.socket = socket;\n  this.options = options;\n  this.filter = filter;\n\n  this.buffer = null;\n\n  var self = this;\n  this.listeners = {\n    error: function(err) {\n      return self.onError(err);\n    },\n    data: function(chunk) {\n      return self.onData(chunk);\n    },\n    end: function() {\n      return self.onEnd();\n    }\n  };\n\n  this.socket.on('error', this.listeners.error);\n  this.socket.on('data', this.listeners.data);\n  this.socket.on('end', this.listeners.end);\n}\nutil.inherits(Hose, EventEmitter);\nmodule.exports = Hose;\n\nHose.create = function create(socket, options, filter) {\n  return new Hose(socket, options, filter);\n};\n\nHose.prototype.detach = function detach() {\n  // Stop the flow\n  this.socket.pause();\n\n  this.socket.removeListener('error', this.listeners.error);\n  this.socket.removeListener('data', this.listeners.data);\n  this.socket.removeListener('end', this.listeners.end);\n};\n\nHose.prototype.reemit = function reemit() {\n  var buffer = this.buffer;\n  this.buffer = null;\n\n  // Modern age\n  if (this.socket.unshift) {\n    this.socket.unshift(buffer);\n    if (this.socket.listeners('data').length > 0)\n      this.socket.resume();\n    return;\n  }\n\n  // Rusty node v0.8\n  if (this.socket.ondata)\n    this.socket.ondata(buffer, 0, buffer.length);\n  this.socket.emit('data', buffer);\n  this.socket.resume();\n};\n\nHose.prototype.onError = function onError(err) {\n  this.detach();\n  this.emit('error', err);\n};\n\nHose.prototype.onData = function onData(chunk) {\n  if (this.buffer)\n    this.buffer = Buffer.concat([ this.buffer, chunk ]);\n  else\n    this.buffer = chunk;\n\n  var self = this;\n  this.filter(this.buffer, function(err, protocol) {\n    if (err)\n      return self.onError(err);\n\n    // No protocol selected yet\n    if (!protocol)\n      return;\n\n    self.detach();\n    self.emit('select', protocol, self.socket);\n    self.reemit();\n  });\n};\n\nHose.prototype.onEnd = function onEnd() {\n  this.detach();\n  this.emit('error', new Error('Not enough data to recognize protocol'));\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}