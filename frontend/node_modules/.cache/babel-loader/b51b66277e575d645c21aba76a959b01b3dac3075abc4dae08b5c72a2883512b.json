{"ast":null,"code":"/*\n * http-stream.js: Idomatic buffered stream which pipes additional HTTP information.\n *\n * (C) 2011, Charlie Robbins & the Contributors\n * MIT LICENSE\n *\n */\n\nvar url = require('url'),\n  util = require('util'),\n  qs = require('qs'),\n  BufferedStream = require('./buffered-stream');\nvar HttpStream = module.exports = function (options) {\n  options = options || {};\n  BufferedStream.call(this, options.limit);\n  if (options.buffer === false) {\n    this.buffer = false;\n  }\n  this.on('pipe', this.pipeState);\n};\nutil.inherits(HttpStream, BufferedStream);\n\n//\n// ### function pipeState (source)\n// #### @source {ServerRequest|HttpStream} Source stream piping to this instance\n// Pipes additional HTTP metadata from the `source` HTTP stream (either concrete or\n// abstract) to this instance. e.g. url, headers, query, etc.\n//\n// Remark: Is there anything else we wish to pipe?\n//\nHttpStream.prototype.pipeState = function (source) {\n  this.headers = source.headers;\n  this.trailers = source.trailers;\n  this.method = source.method;\n  if (source.url) {\n    this.url = this.originalUrl = source.url;\n  }\n  if (source.query) {\n    this.query = source.query;\n  } else if (source.url) {\n    this.query = ~source.url.indexOf('?') ? qs.parse(url.parse(source.url).query) : {};\n  }\n};","map":{"version":3,"names":["url","require","util","qs","BufferedStream","HttpStream","module","exports","options","call","limit","buffer","on","pipeState","inherits","prototype","source","headers","trailers","method","originalUrl","query","indexOf","parse"],"sources":["/Users/juancvegao/Documents/PROGRAMMING/REACT/ejerciciosUniversidad/notes_github/frontend/node_modules/union/lib/http-stream.js"],"sourcesContent":["/*\n * http-stream.js: Idomatic buffered stream which pipes additional HTTP information.\n *\n * (C) 2011, Charlie Robbins & the Contributors\n * MIT LICENSE\n *\n */\n\nvar url = require('url'),\n    util = require('util'),\n    qs = require('qs'),\n    BufferedStream = require('./buffered-stream');\n\nvar HttpStream = module.exports = function (options) {\n  options = options || {};\n  BufferedStream.call(this, options.limit);\n\n  if (options.buffer === false) {\n    this.buffer = false;\n  }\n\n  this.on('pipe', this.pipeState);\n};\n\nutil.inherits(HttpStream, BufferedStream);\n\n//\n// ### function pipeState (source)\n// #### @source {ServerRequest|HttpStream} Source stream piping to this instance\n// Pipes additional HTTP metadata from the `source` HTTP stream (either concrete or\n// abstract) to this instance. e.g. url, headers, query, etc.\n//\n// Remark: Is there anything else we wish to pipe?\n//\nHttpStream.prototype.pipeState = function (source) {\n  this.headers = source.headers;\n  this.trailers = source.trailers;\n  this.method = source.method;\n\n  if (source.url) {\n    this.url = this.originalUrl = source.url;\n  }\n\n  if (source.query) {\n    this.query = source.query;\n  }\n  else if (source.url) {\n    this.query = ~source.url.indexOf('?')\n      ? qs.parse(url.parse(source.url).query)\n      : {};\n  }\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,GAAG,GAAGC,OAAO,CAAC,KAAK,CAAC;EACpBC,IAAI,GAAGD,OAAO,CAAC,MAAM,CAAC;EACtBE,EAAE,GAAGF,OAAO,CAAC,IAAI,CAAC;EAClBG,cAAc,GAAGH,OAAO,CAAC,mBAAmB,CAAC;AAEjD,IAAII,UAAU,GAAGC,MAAM,CAACC,OAAO,GAAG,UAAUC,OAAO,EAAE;EACnDA,OAAO,GAAGA,OAAO,IAAI,CAAC,CAAC;EACvBJ,cAAc,CAACK,IAAI,CAAC,IAAI,EAAED,OAAO,CAACE,KAAK,CAAC;EAExC,IAAIF,OAAO,CAACG,MAAM,KAAK,KAAK,EAAE;IAC5B,IAAI,CAACA,MAAM,GAAG,KAAK;EACrB;EAEA,IAAI,CAACC,EAAE,CAAC,MAAM,EAAE,IAAI,CAACC,SAAS,CAAC;AACjC,CAAC;AAEDX,IAAI,CAACY,QAAQ,CAACT,UAAU,EAAED,cAAc,CAAC;;AAEzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,UAAU,CAACU,SAAS,CAACF,SAAS,GAAG,UAAUG,MAAM,EAAE;EACjD,IAAI,CAACC,OAAO,GAAGD,MAAM,CAACC,OAAO;EAC7B,IAAI,CAACC,QAAQ,GAAGF,MAAM,CAACE,QAAQ;EAC/B,IAAI,CAACC,MAAM,GAAGH,MAAM,CAACG,MAAM;EAE3B,IAAIH,MAAM,CAAChB,GAAG,EAAE;IACd,IAAI,CAACA,GAAG,GAAG,IAAI,CAACoB,WAAW,GAAGJ,MAAM,CAAChB,GAAG;EAC1C;EAEA,IAAIgB,MAAM,CAACK,KAAK,EAAE;IAChB,IAAI,CAACA,KAAK,GAAGL,MAAM,CAACK,KAAK;EAC3B,CAAC,MACI,IAAIL,MAAM,CAAChB,GAAG,EAAE;IACnB,IAAI,CAACqB,KAAK,GAAG,CAACL,MAAM,CAAChB,GAAG,CAACsB,OAAO,CAAC,GAAG,CAAC,GACjCnB,EAAE,CAACoB,KAAK,CAACvB,GAAG,CAACuB,KAAK,CAACP,MAAM,CAAChB,GAAG,CAAC,CAACqB,KAAK,CAAC,GACrC,CAAC,CAAC;EACR;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}